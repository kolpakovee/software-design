server:
  port: 80
spring:
  cloud:
    gateway:
      httpclient:
        ssl:
          useInsecureTrustManager: true
      routes:
        - id: restaurant-service
          uri: http://localhost:8081
          predicates:
            - Path=/restaurant/**
          filters:
            - AuthValidationFilterFactory
        - id: register
          uri: http://localhost:8080
          predicates:
            - Path=/register
          filters:
            - RewritePath=/register, /auth/register
        - id: login
          uri: http://localhost:8080
          predicates:
            - Path=/login
          filters:
            - RewritePath=/login, /auth/login
        - id: validator
          uri: http://localhost:8080
          predicates:
            - Path=/validate
          filters:
            - RewritePath=/validate, /token/validate
        - id: user-info
          uri: http://localhost:8080
          predicates:
            - Path=/user-info
          filters:
            - RewritePath=/user-info, /token/user-info
        - id: test
          uri: http://localhost:8081
          predicates:
            - Path=/test
          filters:
            - AddRoleFilter
            - RewritePath=/test, /restaurant/order/test